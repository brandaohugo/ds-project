{% extends 'base.html' %}

{% block head %}
    {{ super() }}
    <script src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js'></script>
{% endblock %}

{% block header %}
<h1>{% block title %}ING Discrete Event Simulation{% endblock %}</h1>
{% endblock %}

{% block content %}
<div class="container">
    <div class="row sim-vis-container">
        <div class="col-md-4 sim-img">
            <h4>Event Typology:</h4>
            <img class="sim-vis-img" src="/eventcount.png" alt="event-count-plot">
        </div>
        <div class="col-md-4 sim-img">
            <h4>Queue Length:</h4>
            <img class="sim-vis-img" src="/eventcount.png" alt="resource-usage-plot">
        </div>
        <div class="col-md-4 sim-img">
            <h4>Example Interactive Plot:</h4>
            <canvas id="lineChart" width="600" height="400"></canvas>
        </div>
    </div>
    <div class="row justify-content-center sim-params-container">
        <div class="col-md-4">
            <ul class="list-group">
                <li class="list-group-item list-group-item-primary">General Settings:</li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    Simulation Time:
                    <span class="badge badge-primary badge-pill">{{ time }}</span>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    Number of components:
                    <span class="badge badge-primary badge-pill">{{ components }}</span>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    Number of workloads:
                    <span class="badge badge-primary badge-pill">{{ workloads }}</span>
                </li>
            </ul>
        </div>
        <div class="col-md-4">
            <ul class="list-group">
                <li class="list-group-item list-group-item-primary">Simulation Components:</li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    Statistic 1:
                    <span class="badge badge-primary badge-pill">0</span>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    Statistic 2:
                    <span class="badge badge-primary badge-pill">0</span>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    Statistic 3:
                    <span class="badge badge-primary badge-pill">0</span>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    Statistic 4:
                    <span class="badge badge-primary badge-pill">0</span>
                </li>
            </ul>
        </div>
        <div class="col-md-4">
            <ul class="list-group">
                <li class="list-group-item list-group-item-primary">Simulation Workloads:</li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    Statistic 1:
                    <span class="badge badge-primary badge-pill">0</span>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    Statistic 2:
                    <span class="badge badge-primary badge-pill">0</span>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    Statistic 3:
                    <span class="badge badge-primary badge-pill">0</span>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    Statistic 4:
                    <span class="badge badge-primary badge-pill">0</span>
                </li>
            </ul>
        </div>
    </div>
</div>
<script>
    // Global parameters:
// do not resize the chart canvas when its container does (keep at 600x400px)
Chart.defaults.global.responsive = false;
 
 // define the chart data
 var chartData = {
   labels : [{% for item in labels %}
              "{{item}}",
             {% endfor %}],
   datasets : [{
       label: '{{ legend }}',
       fill: true,
       lineTension: 0.1,
       backgroundColor: "rgba(75,192,192,0.4)",
       borderColor: "rgba(75,192,192,1)",
       borderCapStyle: 'butt',
       borderDash: [],
       borderDashOffset: 0.0,
       borderJoinStyle: 'miter',
       pointBorderColor: "rgba(75,192,192,1)",
       pointBackgroundColor: "#fff",
       pointBorderWidth: 1,
       pointHoverRadius: 5,
       pointHoverBackgroundColor: "rgba(75,192,192,1)",
       pointHoverBorderColor: "rgba(220,220,220,1)",
       pointHoverBorderWidth: 2,
       pointRadius: 1,
       pointHitRadius: 10,
       data : [{% for item in values %}
                 {{item}},
               {% endfor %}],
       spanGaps: false
   }]
 }
  
 // get chart canvas
 var ctx = document.getElementById("lineChart").getContext("2d");
  
 // create the chart using the chart canvas
 var myChart = new Chart(ctx, {
   type: 'bar',
   data: chartData,
 });
</script>
{% endblock %}